(this["webpackJsonpbanana-istore-frontend"]=this["webpackJsonpbanana-istore-frontend"]||[]).push([[0],{19:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),r=s(7),i=s.n(r),c=s(0);var l=function(){return Object(c.jsxs)("div",{className:"front-logo",children:[Object(c.jsxs)("h1",{children:["Banana",Object(c.jsxs)("span",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("img",{src:"./icons/banana.png",alt:"banana logo"}),Object(c.jsx)("br",{})]}),"iStore"]}),Object(c.jsx)("br",{}),Object(c.jsx)("h3",{children:"Definitely not an apple iTunes ripoff"}),Object(c.jsx)("br",{})]})},o=s(8),j=s(9),d=s(4),b=s(11),h=s(10),u=s(5),m=s(2);var O=function(e){var t=Object(a.useState)(!1),s=Object(u.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(!1),l=Object(u.a)(i,2),o=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),h=b[0],O=b[1],f=h?"button-clicked":"button-not-clicked";return Object(a.useEffect)((function(){if(!0===o)for(var e=0;e<1;e++)j(!1)}),[n,o]),Object(c.jsx)(m.a,{className:"display-card-body card-group mb-3 h-100",children:Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)(m.a.Link,{href:e.link,children:Object(c.jsx)(m.a.Img,{src:e.imgThumbnail,className:"card-img"})}),Object(c.jsxs)(m.a.Body,{children:[Object(c.jsx)(m.a.Title,{children:Object(c.jsx)("strong",{children:e.name})}),Object(c.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:e.id}),Object(c.jsx)(m.a.Subtitle,{className:"mb-2 card-type",children:e.kind}),Object(c.jsx)(m.a.Text,{children:e.artistName}),Object(c.jsxs)(m.a.Link,{className:"card-links",href:e.link,children:["Link to item ",Object(c.jsx)("i",{class:"fas fa-link"})]}),Object(c.jsxs)(m.a.Link,{className:"".concat(f," card-links"),id:"addFavBtn",onClick:function(){return function(){null===sessionStorage.getItem("favouriteList")&&sessionStorage.setItem("favouriteList",JSON.stringify([]));var t=JSON.parse(sessionStorage.getItem("favouriteList"));O(!0);for(var s={id:e.id,key:e.key,kind:e.kind,link:e.link,name:e.name,artistName:e.artistName,imgThumbnail:e.imgThumbnail},a=0;a<t.length;a++)if(t[a].name===s.name)return r(!n),void alert("You've already added this item");t.push(s),sessionStorage.setItem("favouriteList",JSON.stringify(t)),alert("Item added to Favorites"),j(!0),window.location.reload()}()},children:["Favourite ",Object(c.jsx)("i",{class:"far fa-heart"})]})]})]})})};s(17);var f=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.state={error:null,option:"all",search:"",results:[],reload:!1},a}return Object(j.a)(s,[{key:"handleSubmit",value:function(e){var t=this;if(""===this.state.search)return alert("Please enter a search item");this.setState({results:[]}),e.preventDefault(),fetch("/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search:this.state.search,option:this.state.option})}).then((function(e){return e.json()})).then((function(e){t.setState({results:e}),t.forceUpdate(),console.log(t.state)})).catch((function(e){alert("Server is currently offline. Please try again later."),t.setState(e),console.log(e)}))}},{key:"searchResults",value:function(){return this.state.results.results.map((function(e){return Object(c.jsx)(O,{id:e.collectionId,kind:e.kind,link:e.trackViewUrl,name:e.trackName,artistName:e.artistName,imgThumbnail:e.artworkUrl100},e.collectionArtistId)}))}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"search-form",id:"Search",children:[Object(c.jsx)("h1",{children:"Search"}),Object(c.jsxs)("form",{className:"search-bar-form",onSubmit:this.handleSubmit,children:[Object(c.jsx)("input",{type:"text",placeholder:"What do you want to search for?",onChange:function(t){return e.setState({search:t.target.value})}}),Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsxs)("select",{className:"drop-btn form-select form-select-lg mb-3 mt-3",onChange:function(t){return e.setState({option:t.target.value})},children:[Object(c.jsx)("option",{value:"all",children:"All"}),Object(c.jsx)("option",{value:"movie",children:"Movies"}),Object(c.jsx)("option",{value:"music",children:"Music"}),Object(c.jsx)("option",{value:"podcast",children:"Podcasts"}),Object(c.jsx)("option",{value:"audiobook",children:"Audiobook"}),Object(c.jsx)("option",{value:"shortFilm",children:"Short Film"}),Object(c.jsx)("option",{value:"tvShow",children:"TV Shows"}),Object(c.jsx)("option",{value:"ebook",children:"Ebooks"})]})}),Object(c.jsxs)("button",{type:"submit",className:"btn btn-lg btn-info mb-3",children:["Search ",Object(c.jsx)("i",{className:"fa fa-search"})]})]}),Object(c.jsx)("div",{className:"search-results",id:"search-results",children:0!==this.state.results.length?Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Search Results"}),this.searchResults()]}):""})]})}}]),s}(n.a.Component);var x=function(){if(null===sessionStorage.getItem("favouriteList")){sessionStorage.setItem("favouriteList",JSON.stringify([]))}var e=JSON.parse(sessionStorage.getItem("favouriteList")),t=0;return Object(c.jsxs)("div",{id:"Favs",children:[Object(c.jsx)("h1",{children:"Your favourite items are:"}),Object(c.jsx)("div",{className:"search-results",id:"search-results",children:0!==e.length?e.map((function(s){return t+=1,Object(c.jsxs)("div",{className:"fav-items-div",children:[Object(c.jsx)(O,{id:s.id,kind:s.kind,link:s.link,name:s.name,artistName:s.artistName,imgThumbnail:s.imgThumbnail},s.key),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"btn btn-lg btn-info DeleteBtn",onClick:function(s){return function(t){var s=[];s=e.splice(t-1,1),sessionStorage.setItem("favouriteList",JSON.stringify(s)),window.location.reload()}(t)},children:"Delete"})]})})):Object(c.jsxs)("h3",{children:["Nothing at the moment. ",Object(c.jsx)("br",{})," Feel free to add some after searching. ",Object(c.jsx)("br",{})," If you still can't see your favourites but you know you added them.",Object(c.jsx)("br",{})," Please refresh the page."]})})]})};var v=function(){var e=(new Date).getFullYear();return Object(c.jsxs)("div",{children:[Object(c.jsxs)("h6",{children:["Copyright ",e,". Hyperion Dev Bootcamp. Alan Kow"]}),Object(c.jsx)("a",{href:"#home",children:"Back to top of page"})]})};var p=function(){return Object(c.jsx)("div",{className:"navbar-div",children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(c.jsxs)("div",{className:"dropdownMenu",children:[Object(c.jsx)("i",{class:"fas fa-leaf"}),Object(c.jsx)("a",{class:"navbar-brand header-logo",href:"#Home",children:"banana"})]}),Object(c.jsxs)("ul",{class:"navbar-nav list-group",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{href:"#Home",children:"Home"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{href:"#Search",children:"Search"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{href:"#Favs",children:"Favourites"})})]})]})})};var g=function(){return Object(c.jsxs)("div",{className:"App",id:"Home",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)(p,{})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(l,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(f,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(x,{})]}),Object(c.jsx)("footer",{children:Object(c.jsx)(v,{})})]})};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.d026c2c3.chunk.js.map